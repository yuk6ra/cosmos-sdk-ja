---
sidebar_position: 1
---

# Application-Specific Blockchains

:::note Synopsis
このドキュメントでは、アプリケーション特化型ブロックチェーンとは何か、なぜ開発者がスマートコントラクトを書く代わりにそれを構築することを選ぶ必要があるのかについて説明します。
:::

## What are application-specific blockchains

アプリケーション特化型ブロックチェーンとは、単一のアプリケーションを運用するためにカスタマイズされたブロックチェーンです。Ethereumのような基盤ブロックチェーンの上に分散アプリケーションを構築する代わりに、開発者はゼロから独自のブロックチェーンを構築します。これにはフルノードクライアント、ライトクライアント、およびノードと対話するためのすべての必要なインターフェース（CLI、RESTなど）の構築が含まれます。


```text
                ^  +-------------------------------+  ^
                |  |                               |  |   Built with Cosmos SDK
                |  |  State-machine = Application  |  |
                |  |                               |  v
                |  +-------------------------------+
                |  |                               |  ^
Blockchain node |  |           Consensus           |  |
                |  |                               |  |
                |  +-------------------------------+  |   CometBFT
                |  |                               |  |
                |  |           Networking          |  |
                |  |                               |  |
                v  +-------------------------------+  v
```

## What are the shortcomings of Smart Contracts


2014年にイーサリアムなどの仮想マシン型ブロックチェーンは、より高いプログラム可能性への需要に対応しました。当時、分散アプリケーションを構築するための選択肢は非常に限られていました。多くの開発者は、複雑で限定されたBitcoinスクリプト言語の上に構築するか、Bitcoinコードベースをフォークしてカスタマイズする方法を選ぶことが一般的でした。

仮想マシン型ブロックチェーンは新しい価値提供をもたらしました。そのステートマシンは、スマートコントラクトと呼ばれるチューリング完全プログラムを解釈できる仮想マシンを組み込んでいます。これらのスマートコントラクトは、一回限りのイベント（例：ICO）などのユースケースには非常に優れていますが、複雑な分散型プラットフォームを構築する際には不足することがあります。以下にその理由を示します：

* スマートコントラクトは、基盤となる仮想マシンによって解釈できる特定のプログラミング言語で一般的に開発されます。これらのプログラミング言語は、しばしば未熟であり、仮想マシンそのものの制約により本質的に制限されています。例えば、イーサリアム仮想マシンではコードの自動実行を実装できません。また、EVMのアカウントベースのシステムに制限され、暗号操作には限られた関数のセットから選択するしかありません。これらは例ですが、スマートコントラクト環境が持つ柔軟性の不足を示しています。
* スマートコントラクトはすべて同じ仮想マシンで実行されます。これにより、リソースを競合することになり、パフォーマンスが制約される可能性があります。また、ステートマシンを複数のサブセット（例：シャーディングを介して）に分割したとしても、スマートコントラクトは依然として仮想マシンによって解釈される必要があり、ステートマシンレベルで実装されたネイティブアプリケーションと比較してパフォーマンスが制限されます（仮想マシンを削除した場合、当社のベンチマークでは10倍の性能向上が示されています）。
* スマートコントラクトが同じ基盤環境を共有する事実に関連する別の問題は、主権の制約です。分散型アプリケーションは複数のプレイヤーを含むエコシステムです。アプリケーションが汎用の仮想マシン型ブロックチェーン上に構築される場合、ステークホルダーはアプリケーションに対する主権を非常に制限され、基盤ブロックチェーンのガバナンスによって最終的には上書きされることになります。アプリケーションにバグがある場合、ほとんど対処できません。

アプリケーション特化型ブロックチェーンは、これらの短所に対処するために設計されています。

## Application-Specific Blockchains Benefits

### Flexibility

アプリケーション特化型ブロックチェーンは、開発者に最大限の柔軟性を提供します：

* Cosmosブロックチェーンでは、ステートマシンは通常、[ABCI](https://docs.cometbft.com/v0.37/spec/abci/)というインターフェースを介して基盤のコンセンサスエンジンに接続されます。このインターフェースは任意のプログラミング言語でラップすることができ、開発者は選択したプログラミング言語でステートマシンを構築できます。

* 開発者はステートマシンを構築するために複数のフレームワークから選択できます。今日最も広く使用されているのはCosmos SDKですが、他にも（例：[Lotion](https://github.com/nomic-io/lotion)、[Weave](https://github.com/iov-one/weave)など）が存在します。一般的には、使用したいプログラミング言語に基づいて選択されます（Cosmos SDKとWeaveはGolangで、LotionはJavaScriptです）。
* ABCIはまた、アプリケーション特化型ブロックチェーンのコンセンサスエンジンを交換することを開発者に許可します。現在はCometBFTのみが本番環境で利用可能ですが、将来的には他のコンセンサスエンジンも登場する予定です。
* フレームワークとコンセンサスエンジンを選択しても、開発者はこれらが要件に完全に一致しない場合でも、それらを調整する自由があります。
* 開発者はトレードオフ（バリデータの数対トランザクションのスループット、非同期性における安全性対可用性など）やデザインの選択肢（DBまたはIAVLツリーによるストレージ、UTXOまたはアカウントモデルなど）の全スペクトラムを自由に探求できます。
* 開発者はコードの自動実行を実装できます。Cosmos SDKでは、ロジックをブロックの開始と終了時に自動的にトリガーできます。仮想マシン型ブロックチェーンの場合、基盤環境で利用可能なものに制約されるのではなく、アプリケーションで使用する暗号ライブラリを自由に選択できます。

上記のリストには、アプリケーション特化型ブロックチェーンが開発者に与える柔軟性の多くの例が含まれています。CosmosとCosmos SDKの目標は、スタックの各部分を互換性を失うことなくフォークし、調整し、改善できるようにすることです。コミュニティが成長するにつれて、各コアビルディングブロックのさらなる選択肢が現れ、開発者により多くの選択肢が提供されるでしょう。

### Performance

スマートコントラクトで構築された分散型アプリケーションは、基盤環境によってパフォーマンスが制限されます。分散型アプリケーションがパフォーマンスを最適化するには、アプリケーション特化型ブロックチェーンとして構築する必要があります。次に、アプリケーション特化型ブロックチェーンのパフォーマンスにもたらすいくつかの利点を示します：

* アプリケーション特化型ブロックチェーンの開発者は、CometBFT BFTなどの革新的なコンセンサスエンジンを選択できます。ほとんどの仮想マシン型ブロックチェーンで使用されるProof-of-Workに比べて、大幅なスループットの向上が見込まれます。
* アプリケーション特化型ブロックチェーンは単一のアプリケーションのみを運用するため、アプリケーションは他のアプリケーションと計算とストレージの競合がありません。これは、スマートコントラクトが計算とストレージの競合をする多くの非シャーディング仮想マシン型ブロックチェーンの逆です。
* 仮想マシン型ブロックチェーンがアプリケーションベースのシャーディングを提供し、効率的なコンセンサスアルゴリズムと組み合わせていたとしても、パフォーマンスは仮想マシン自体によって制限されます。実際のスループットのボトルネックはステートマシンであり、トランザクションを仮想マシンで解釈することによって処理の計算複雑性が大幅に増加します。

### Security

セキュリティは定量化が難しく、プラットフォームによって大きく異なります。ただし、アプリケーション特化型ブロックチェーンがセキュリティにもたらす重要な利点がいくつかあります：

* 開発者は、未熟なことが多いスマートコントラクトプログラミング言語とは異なり、アプリケーション特化型ブロックチェーンを構築する際にGoなどの信頼性の高いプログラミング言語を選択できます。
* 開発者は、基盤の仮想マシンで利用可能な暗号機能に制約されることはありません。独自のカスタム暗号を使用し、よく監査された暗号ライブラリに頼ることができます。
* 開発者は、基盤の仮想マシンにおける潜在的なバグや悪用可能なメカニズムを心配する必要がありません。これにより、アプリケーションのセキュリティについて理解しやすくなります。

### Sovereignty

アプリケーション特化型ブロックチェーンの主要な利点の1つは主権です。分散型アプリケーションは多くのアクター（ユーザー、開発者、サードパーティサービスなど）を含むエコシステムです。開発者が多くの分散型アプリケーションが共存する仮想マシン型ブロックチェーン上に構築する場合、アプリケーションのコミュニティは基盤ブロックチェーンのコミュニティとは異なり、後者がガバナンスプロセスで前者を上回ります。バグがある場合や新機能が必要な場合、アプリケーションのステークホルダーはコードをアップグレードする余地がほとんどありません。基盤ブロックチェーンのコミュニティが動かない場合、何もできない状態になります。

根本的な問題は、アプリケーションのガバナンスとネットワークのガバナンスが一致していないことです。この問題は、アプリケーション特化型ブロックチェーンによって解決されます。アプリケーション特化型ブロックチェーンは、単一のアプリケーションを運用するために特化しているため、アプリケーションのステークホルダーは全体のチェーンに対して完全な制御権を持っています。これにより、バグが発見された場合にコミュニティが行き詰まることがなく、どのように進化するかを選択する自由が得られます。


